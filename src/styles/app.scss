/*
Copyright (c) 2018 Red Hat, Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

@import '~@patternfly/patternfly/sass-utilities/_all';

// override the blue patternfly header border to match other properties
.navbar-pf-vertical {
  border: 0;
}

// work around PatternFly bug that hides DropDownKebab menu
.table-grid-pf .row,
.table-grid-pf [class*='col-'] {
  overflow-x: visible;
}

// work around side modal height & scrolling bug in older browsers
.modal.right-side-modal-pf .modal-dialog .modal-content .modal-body {
  overflow-y: auto;
  overflow-x: hidden;
}

.pending-modal {
  min-height: 300px;
}

.cluster-list {
  margin: 0px 30px 0 30px;
  > .pf-v5-c-alert {
    margin-top: var(--pf-v5-global--spacer--xs);
  }
}

#cluster-list-top {
  margin: 20px 0 20px 0;
}

.cluster-list-empty-state .pf-v5-c-empty-state__secondary {
  margin-top: var(--pf-v5-global--spacer--sm);
}

.pf-v5-c-empty-state.pf-m-lg {
  margin: 0 auto;
}

#not-found > div.pf-v5-c-alert__description {
  overflow: hidden;
  text-overflow: ellipsis;
}

#advanced-networking-alert {
  > h4 {
    margin-top: 0px;
  }
}

.navbar-pf-vertical .navbar-brand .navbar-brand-name {
  height: 33px;
}

.metrics-chart {
  text-align: center;
}

// fix donut chart tooltip css
.metrics-chart .VictoryContainer > div > svg > g > text > tspan {
  stroke: none !important;
  fill: #ffffff !important;
}

// Enable word wrapping in the cluster list
// TODO -- fix, .table-grid-pf-row was the PF3 one
.cluster-list .table-grid-pf-row > div {
  white-space: normal;
  word-wrap: break-word;
}

#cluster-list-toolbar {
  padding-left: 0;
}

.toolbar-item {
  margin-right: 10px;
  margin-bottom: 5px;
}

.cluster-details-item {
  padding: 20px 0;
  dt {
    font-weight: bold;
    font-size: 14px;
  }
  dd {
    margin-bottom: 24px;
    font-size: 16px;
  }
}

.self-service-failed {
  font-size: 14px;
}

.font-weight-normal {
  font-weight: normal;
}

.cluster-details-item-list {
  margin-bottom: 0px;
  dt {
    text-transform: none;
    display: inline;
    font-weight: bold;
    color: var(--pf-v5-global--Color--400);
  }
  dd {
    display: inline;
  }
}

.radio-tooltip {
  left: -70px;
}

.cl-details-page-title {
  font-size: var(--pf-v5-global--FontSize--2xl);
  position: relative;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
}

.page-title {
  font-size: var(--pf-v5-global--FontSize--2xl);
}

.card-title {
  font-size: var(--pf-v5-global--FontSize--lg);
}

#cl-details-btns > * {
  margin-left: 10px;
}

#cl-details-btns a {
  @media (max-width: 480px) {
    margin-left: 0;
  }
}

#cl-details-top-row {
  flex-wrap: wrap;
}

#cl-details-top-row h1 {
  margin: 0;
  word-break: break-word;
  @media (max-width: 480px) {
    display: block;
    padding-bottom: 20px;
  }
}

#cl-details-top .pf-v5-c-tabs {
  margin-top: 20px;
}

.cluster-error-triangle {
  margin-left: 16px;
}

.footer {
  margin-bottom: 40px;
}

.pf-v5-c-banner.configuration_mode_read_only {
  text-align: center;
  white-space: normal;
}

/*
TODO: This is overriding too much, should be more specific
*/
#clusterdetails-content .pf-v5-c-card {
  margin-top: 24px;
}

#upgradeSettingsContent .pf-v5-c-card {
  margin-top: 0px;
}

.empty-state-color {
  color: var(--pf-v5-global--Color--200);
}

#subs-hint {
  margin-top: 40px;
}

.ocm-c-overview-resource-usage__card--body,
.ocm-c-metrics-charts__card .pf-v5-c-card__body,
.metrics-chart {
  display: flex;
  justify-content: space-evenly;
  margin: 0;
  @media (max-width: 767px) {
    flex-direction: column;
  }
  &.chart-title {
    font-size: var(--pf-v5-global--FontSize--md);
    font-weight: 700;
  }
  &.chart-title-with-legend {
    font-size: var(--pf-v5-global--FontSize--md);
    font-weight: 700;
    padding-right: 180px; // Adjusted to accommodate legend
  }
}
#clusterdetails-content .metrics-chart.chart-with-legend {
  height: 205px;
  width: 410px;
}

.pf-v5-c-modal-box .error-box {
  margin-bottom: 15px;
}

.pf-v5-c-modal-box__footer {
  display: block;
}

footer {
  ul {
    margin: 10px auto;

    li {
      display: inline;
      border-right-width: var(--pf-v5-global--BorderWidth--sm);
      border-right-style: solid;

      &:last-child {
        border-right: none;
      }
    }
  }

  a,
  a:hover,
  a:focus,
  a:visited {
    margin: auto 10px;
    color: var(--pf-v5-global--Color--200);
  }
}

p.notfound {
  text-align: center;
  font-size: larger;
}

#terms-alert {
  margin-top: 20px;
}

.ca-textarea {
  min-height: 442px;
  min-width: 497px;
  font-family: var(--pf-v5-global--FontFamily--monospace);
  white-space: pre;
}

.pf-v5-c-button.cluster-inline-link {
  padding: 5px;
}

#register-cluster .pf-m-primary {
  margin-right: 20px;
}

#register-cluster-top-text {
  margin-bottom: 20px;
}

.top-row {
  background-color: var(--pf-v5-global--BackgroundColor--100);
  margin-top: calc(var(--pf-v5-c-page__main-section--PaddingTop) * -1);
  margin-right: calc(var(--pf-v5-c-page__main-section--PaddingRight) * -1);
  margin-left: calc(var(--pf-v5-c-page__main-section--PaddingLeft) * -1);
  padding-top: var(--pf-v5-c-page__main-section--PaddingTop);
  padding-right: var(--pf-v5-c-page__main-section--PaddingRight);
  padding-left: var(--pf-v5-c-page__main-section--PaddingLeft);
}

#clusterdetails-content .container-fluid {
  padding-right: 0;
  padding-left: 0;
}

h1 .badged-resource-pf span:first-child {
  display: table;
  padding-right: 4px;
}

h1 .badged-resource-pf .badged-resource-pf-icon {
  display: table-cell;
  vertical-align: middle;
}
.cluster-list .clusterstate {
  margin-left: 10px;
}

// To display organization names in the masthead, we need a longer max length for the text
.uhc_header .pf-v5-c-page__header-tools .pf-v5-c-dropdown__toggle-text {
  max-width: 50ch; // pf default is 20ch
}

// cluster details -> Access Control
#cluster-details-access-control-tab-contents {
  // the tab already provides padding.
  padding: 0 0 0 0;

  // style for vertical tab in AccessControl
  @media (min-width: 768px) {
    .pf-v5-c-tabs {
      float: left;
      width: 220px;
    }
  }

  // tab content
  .pf-v5-c-tab-content {
    // the parent already draws a box.
    // no boxes for the nested cards.
    .pf-v5-c-card {
      --pf-v5-c-card--BoxShadow: none;
    }
  }

  // hide if there's single tab item
  &.single-tab .pf-v5-c-tabs {
    display: none;
  }
  &.single-tab section {
    display: block;
  }
}

.pf-v5-c-tabs__item-text > #monitoring-issues-icon,
.pf-v5-c-tabs__item-text > #insights-issues-icon {
  margin-left: 5px;
}

#networkSelfService .status-icon {
  margin-right: 5px;
}

#monitoring-spinner {
  padding-top: 24px;
  margin-left: 16px;
}

.pf-v5-c-radio.radio-az {
  display: inline-block;
  width: 120px;
  .pf-v5-c-radio__label {
    padding-left: 6px;
  }
}

.flex-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

#billing-model #standard {
  margin-left: 0;
}

#cloud-provider-selection > a {
  flex: 1;
  margin: 20px;
}

.pf-v5-c-content h3.downloads-subtitle {
  margin-bottom: 6px;
}

.tippy-popper,
.pf-tippy-theme.tippy-tooltip .tippy-content {
  pointer-events: all !important;
}

.ocm-page-title {
  padding-top: 2px;
}

.bottom-alert {
  margin-top: 24px;
  h4 {
    margin-top: 0 !important;
  }
}

.card-badge-container > span.card-badge {
  background-color: var(--pf-v5-global--BackgroundColor--300);
  font-size: 14px;
  font-weight: 400;
  color: var(--pf-v5-global--Color--300);
  padding: 5px 10px 5px 10px;
  width: 95%;
  margin: 8px;
  min-height: 21px;
  line-height: 21px;
  border-radius: 3px;
  text-align: center;
  display: inline-block;
  svg {
    margin-right: var(--pf-v5-global--spacer--xs);
  }
  &.card-badge-hidden {
    // for card size/layout consistency, we want a "placeholder" badge that takes the same space, but is not visibile
    visibility: hidden;
  }
}

.card-badge-container {
  align-self: stretch;
  margin-left: -7%;
  margin-right: -7%;
  margin-top: -20px;
}

.create-cluster-logo {
  height: 75px;
}
.infra-card.create-cluster-card.tile-disabled {
  background: var(--pf-v5-global--disabled-color--300);
  color: var(--pf-v5-global--disabled-color--100) !important;
  box-shadow: none;
  border: none;
  .create-cluster-logo {
    -webkit-filter: grayscale(1);
    filter: grayscale(1);
  }
}

.infra-card .create-cluster-header.pf-v5-c-card__header {
  margin-top: 55px;
  padding-top: 0;
}

// Disabled tiles should still allow for tooltips
.pf-v5-c-tile.pf-m-disabled {
  pointer-events: all;
  &::after {
    background-color: transparent;
  }
}

// Enable word wrapping in tooltips, this is useful in case of extremely long cluster names
.pf-v5-c-tooltip__content {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.spinner-fit-container {
  height: 0;
}

.os-based-download {
  margin-bottom: 5px;
}

.cluster-list .clusterstate {
  margin: 0 5px;
}

.cluster-status-string {
  &.status-installing svg {
    color: var(--pf-v5-c-table--cell--Color);
  }
}

.spinner-loading-text {
  margin-left: 32px;
  padding-top: 5px;
}

.cluster-loading-container {
  margin-top: 15px;
  height: 132px;
}

.split-margin-left {
  margin-left: 15px;
}

.cluster-list .pf-v5-c-chip-group .pf-v5-c-chip-group__label {
  margin-right: 10px;
  overflow: visible;
}

// add some space between the text input label and the help icon
.pf-v5-c-form__group-label .text-input-tootip-icon {
  margin-left: 5px;
}

.quota-dropdown {
  ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    max-height: 200px !important;
    overflow-y: auto;
    overflow-x: hidden;
  }
  div {
    width: 100%;
  }
  select {
    width: 100%;
    margin-right: var(--pf-v5-global--spacer--xs);
    display: block;
  }
}

.edit-cluster-modal {
  &.edit-cluster-modal-rhinfra {
    min-height: 40%;
  }
}

// selects the input box in PF Pagination component
.pf-v5-c-pagination__nav-page-select > input:nth-child(1) {
  width: 100px;
}

.show-active-clusters-link {
  margin-top: 6px;
}

.subscription-settings {
  &.form {
    margin-top: var(--pf-v5-c-modal-box--c-title--body--MarginTop);
  }
  &.radio-group {
    .pf-v5-c-form__group-control {
      position: relative;
      padding-left: 10px;
      // change to inline display, so the fields do not take the whole line.
      // the tooltip can be nicely displayed side by side.
      display: inline-block;
      .pf-v5-c-radio:not(:last-child) {
        margin-bottom: var(--pf-v5-global--spacer--sm);
      }
      &.pf-m-inline {
        display: inline-flex;
        .pf-v5-c-radio:not(:last-child) {
          margin-bottom: 0;
        }
      }
    }

    .pf-v5-c-form__label-text {
      font-weight: var(--pf-v5-global--FontWeight--bold);
      font-size: var(--pf-v5-global--FontSize--sm);
    }
  }
  &.expired-eval-option {
    color: var(--pf-v5-global--danger-color--100);
    font-weight: var(--pf-v5-global--FontWeight--bold);
  }
  &.warning-title-icon {
    margin-left: 10px;
    fill: var(--pf-v5-global--warning-color--100);
  }
  &.danger-title-icon {
    margin-left: 10px;
    fill: var(--pf-v5-global--danger-color--100);
  }
  .subscription-settings-label-tooltip-icon {
    margin-left: 5px;
  }

  // slightly reduce the alert margin to hide the scroll
  #subscription-settings-cluster-billing-model-alert {
    margin-top: calc(var(--pf-v5-global--spacer--md) - var(--pf-v5-c-form--GridGap));
    margin-bottom: calc(var(--pf-v5-global--spacer--md) - var(--pf-v5-c-form--GridGap));
  }
}

.hand-pointer {
  cursor: pointer;
}

.control-form-cursor {
  div.pf-v5-c-form__group .pf-v5-c-form__label {
    cursor: default;
  }
}

.access-control-add {
  margin-top: var(--pf-v5-global--spacer--lg);
}

.radio-button.pf-v5-c-radio {
  margin-bottom: var(--pf-v5-global--spacer--lg);

  label > .radio-helptext {
    font-size: var(--pf-v5-global--FontSize--sm);
  }
}

.pf-v5-c-button.pf-m-link.access-control-tables-copy {
  padding: 0;
  font-size: var(--pf-v5-c-table--cell--FontSize);
}

.ins-c-empty-state__unavailable .pf-v5-c-empty-state__icon {
  color: var(--pf-v5-global--danger-color--100);
}

.ocm-secondary-text {
  color: var(--pf-v5-global--Color--200);
}

$ocm-l-autofit--breakpoint-map: build-breakpoint-map();
$ocm-c-width-limiter--breakpoint-map: build-breakpoint-map();

.pf-v5-c-page__main-section {
  &.pf-m-dark-1000 {
    --pf-v5-c-page__main-section--BackgroundColor: var(--pf-v5-global--palette--black-1000);
  }
}

// TODO: remove once chroming has newer version of PF that includes this fix
// https://github.com/patternfly/patternfly/pull/5788/files
.pf-v5-c-radio {
  display: grid;
  width: auto;
}
